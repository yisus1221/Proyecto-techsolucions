---
title: Diagrama de Flujo Principal - Sistema de Gesti√≥n de Tareas
---
flowchart TD
    A[üöÄ Inicio - Main] --> B[üîê LoginFrame]
    B --> C{üîç Validar Credenciales}
    C -->|‚ùå Error| D[‚ö†Ô∏è Mostrar Error de Login]
    D --> B
    C -->|‚úÖ V√°lidas| E[üìã Obtener Usuario Actual]
    E --> F[üéØ SistemaGestionTareas Constructor]
    F --> G[üåê inicializarSistema]
    G --> H[üé® Configurar Look & Feel]
    H --> I[üíæ conectarMongoDB]
    I --> J{üì° ¬øMongoDB Disponible?}
    J -->|‚ùå No| K[üìÅ cargarDatosPredeterminados]
    J -->|‚úÖ S√≠| L[üìä cargarDatosDesdeMongoDB]
    K --> M[üèóÔ∏è configurarInterfaz]
    L --> M
    M --> N{üë§ ¬øTipo de Usuario?}
    
    N -->|üëë CEO| O[üè¢ configurarInterfazCEO]
    N -->|üë®‚Äçüíº JEFE| P[üìà configurarInterfazJefe]
    N -->|üè¢ JEFE_DEPTO| Q[üéØ configurarInterfazJefeDepartamento]
    N -->|üë§ EMPLEADO| R[üìù configurarInterfazEmpleado]
    
    O --> S[üìä 8 Pesta√±as + Panel Ejecutivo]
    P --> T[üìä 7 Pesta√±as Completas]
    Q --> U[üìä 5 Pesta√±as Filtradas]
    R --> V[üìä 3-4 Pesta√±as B√°sicas]
    
    S --> W[üéÆ Sistema Completo Visible]
    T --> W
    U --> X[üéØ Vista Departamental]
    V --> Y[üìã Vista Personal]
    
    W --> Z{‚öôÔ∏è ¬øOperaci√≥n?}
    X --> AA{üè¢ ¬øOperaci√≥n Depto?}
    Y --> BB{üìù ¬øOperaci√≥n Personal?}
    
    Z -->|üìö| CC[agregarTareaPila - LIFO]
    Z -->|‚è∞| DD[agregarTareaCola - FIFO]
    Z -->|üè¢| EE[agregarTareaLista - Indexado]
    Z -->|‚≠ê| FF[colaPrioridad - Auto Sort]
    Z -->|üë•| GG[ArbolEmpleados - BST]
    Z -->|üîç| HH[buscarTareaPorId - HashMap O(1)]
    Z -->|üï∏Ô∏è| II[dependenciasTareas - Grafo]
    
    AA -->|‚ûï| JJ[crearNuevaTareaDepartamento]
    AA -->|‚úÖ| KK[revisarTareasCompletadas]
    
    BB -->|üìã| LL[Ver Mis Tareas]
    BB -->|‚úÖ| MM[completarTarea]
    
    CC --> NN{üíæ ¬øGuardar?}
    DD --> NN
    EE --> NN
    FF --> NN
    JJ --> NN
    
    NN -->|‚úÖ S√≠| OO[guardarTareaEnMongoDB]
    NN -->|‚ùå No| PP[üìù Solo en Memoria]
    
    OO --> QQ[üîÑ actualizarTablas]
    PP --> QQ
    
    QQ --> RR[üñºÔ∏è Refrescar TableWithFilters]
    RR --> SS{üö™ ¬øContinuar?}
    
    SS -->|üîÑ Continuar| Z
    SS -->|üö™ Logout| TT[Confirmar Logout]
    TT -->|‚úÖ S√≠| B
    TT -->|‚ùå No| Z
    SS -->|‚ùå Cerrar| UU[üõë System.exit]

    %% Estilos
    classDef startEnd fill:#e8f5e8,stroke:#4caf50,stroke-width:2px
    classDef process fill:#e3f2fd,stroke:#2196f3,stroke-width:2px
    classDef decision fill:#fff3e0,stroke:#ff9800,stroke-width:2px
    classDef dataStructure fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px
    classDef error fill:#ffebee,stroke:#f44336,stroke-width:2px
    
    class A,UU startEnd
    class B,F,G,H,I,K,L,M,O,P,Q,R process
    class C,J,N,Z,AA,BB,NN,SS,TT decision
    class CC,DD,EE,FF,GG,HH,II dataStructure
    class D error
